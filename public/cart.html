<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Your Cart</title>
	<link rel="stylesheet" href="style.css">
</head>
<body class="allergens-page app-body">
	<header>
		<h1 class="main-heading underline">Inspired by Naples, perfected at None Go Bye.</h1>
		<nav class="main-nav">
			<a href="index.html">Home</a>
			<a href="menu.html">Menu</a>
			<a href="cart.html">Cart</a>
			<a href="checkout.html">Checkout</a>
			<a href="allergens.html">Allergens</a>
		</nav>
	</header>
	<main>
		<section id="cart-section">
			<h2>Your Cart</h2>
			<ul id="cart-items"></ul>
			<p id="cart-empty-message" style="display:none;">Your cart is empty.</p>
			<p id="cart-total"><strong>Total: £0.00</strong></p>
			<button id="proceed-to-checkout-btn">Proceed to Checkout</button>
		</section>
	</main>
	<script>
	// Load cart from localStorage and display items and total
	function loadCart() {
		const cart = JSON.parse(localStorage.getItem('cart') || '[]');
		const cartItemsDiv = document.getElementById('cart-items');
		const cartTotalP = document.getElementById('cart-total');
		let total = 0;
		cartItemsDiv.innerHTML = '';
		cart.forEach((entry, idx) => {
			const li = document.createElement('li');
			li.className = 'cart-item-row';
			li.innerHTML = `<span class="cart-item-name">${entry.name}</span> <span class="cart-item-price">– £${entry.price.toFixed(2)}</span>`;
			// Add remove button with bin icon
			const removeBtn = document.createElement('button');
			removeBtn.className = 'remove-cart-item-btn';
			removeBtn.title = 'Remove';
			removeBtn.innerHTML = '<img src="bin-icon.svg" alt="Remove" class="bin-icon" width="20" height="20">';
			removeBtn.onclick = function() {
				cart.splice(idx, 1);
				localStorage.setItem('cart', JSON.stringify(cart));
				loadCart();
			};
			li.appendChild(removeBtn);
			cartItemsDiv.appendChild(li);
			total += entry.price;
		});
	cartTotalP.innerHTML = `<strong>Total: £${total.toFixed(2)}</strong>`;
	document.getElementById('cart-empty-message').style.display = cart.length === 0 ? '' : 'none';
	}
	window.onload = function() {
		loadCart();
		document.getElementById('proceed-to-checkout-btn').addEventListener('click', function() {
			window.location.href = 'checkout.html';
		});
	};
	</script>
</body>
</html>
